From 7bb3c1778c178e48f5f76bb4115444f5902478cc Mon Sep 17 00:00:00 2001
From: "Aaron Sethman (androsyn)" <androsyn@ratbox.org>
Date: Sun, 15 Apr 2012 21:41:07 +0000
Subject: [PATCH 29/89] Fix another case of sizeof() returning the pointer size
 instead of the variable size

git-svn-id: http://svn.ratbox.org/svnroot/ircd-ratbox/branches/RATBOX_3_0@27391 b93f080a-4cfa-0310-a19a-80a68f531ef9
---
 resolver/resolver.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/resolver/resolver.c b/resolver/resolver.c
index 15e6db1..0f3baea 100644
--- a/resolver/resolver.c
+++ b/resolver/resolver.c
@@ -227,7 +227,7 @@ set_bind(char **parv)
 		rb_inet_pton(AF_INET, ipv4, &ipv4_addr);
 #ifdef RB_IPV6
 	if(!strcmp(ipv6, "0"))
-		memcpy(&ipv6_addr, &in6addr_any, sizeof(&ipv6_addr));
+		memcpy(&ipv6_addr, &in6addr_any, sizeof(ipv6_addr));
 	else
 		rb_inet_pton(AF_INET6, ipv6, &ipv6_addr);
 #endif
-- 
2.7.4

